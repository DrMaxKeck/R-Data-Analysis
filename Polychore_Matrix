####Hier wird eine Polychore Korrelationsmatrix berechnet.
#Polychore Korrelationen brauche ich, um 
# aus zwei bin√§r codierten Variablen den Zusammenhang zu berechnen.


chooseCRANmirror("https://cran.uni-muenster.de")
40
#Sprache auf Englisch umstellen
Sys.setenv(LANG = "en")
#paket installieren um spss daten einzulesen
if (!require(haven)) {install.packages("haven")}
library (haven)
data_spss <- read_sav ("C:/users/Keck/Desktop/Factominer_Null_keine_Missing.sav")
# Paket installieren
if (!require(polycor)) {install.packages("polycor")}
library (polycor)
# Die Variablen als Faktoren definieren, damit die Analyse gemacht werden kann.
data_spss <- sapply(data_spss, as.factor)
head(data_spss)
#erstellen einer leeren Matrix.
n <- ncol(data_spss); m <- n
cormat <- matrix(nrow=n, ncol=m, data=NA)
for (i in 1:n){
for(j in 1:m){
cormat[i,j] <- polychor(data_spss[,i], data_spss[,j])
}
}
diag(cormat) <- 1
print(cormat)
